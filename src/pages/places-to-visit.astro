---
import Layout from "@layouts/layout.astro";
import { Img } from "astro-imagetools/components";
import { getCollection } from "astro:content";

const placesCollection = await getCollection("places");
---

<Layout>
  <section class="bg-white relative">
    <div class="h-[90vh] overflow-hidden">
      <Img
        src="/images/places/rizal-park.png"
        alt="Rizal Park"
        objectPosition="50% 100%"
      />
    </div>
    <div class="absolute bottom-0 w-full h-48">
      <div
        class="absolute left-0 w-1/2 h-full bg-blue-900 opacity-70 triangle-side-clip"
      >
      </div>
      <div
        class="absolute left-1/2 -translate-x-1/2 bottom-0 w-full h-1/2 bg-background triangle-clip"
      >
      </div>
      <div
        class="absolute right-0 w-1/2 h-full bg-blue-900 opacity-70 triangle-side-clip rotate-180"
      >
      </div>
    </div>
  </section>

  <section class="relative bottom-8 container mx-auto px-4 lg:px-8">
    <header>
      <h1 class="text-center font-alex text-7xl py-1 text-white">
        Manila Travel Guide
      </h1>
      <ul class="flex flex-wrap">
        {
          placesCollection.map((place) => {
            return (
              <li class="w-1/3 p-4">
                <div class="relative pb-[65%] overflow-hidden rounded-xl">
                  <div class="absolute top-0 left-0 w-full h-full">
                    <Img
                      src={place.data.featuredImage}
                      alt={place.data.title}
                    />
                  </div>
                </div>
              </li>
            );
          })
        }
      </ul>
    </header>
  </section>
</Layout>
